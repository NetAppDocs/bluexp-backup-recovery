---
sidebar: sidebar
permalink: br-use-clone-mssql.html
keywords: backing up, restoring, back up, backup, clone, restore, cloud volumes ontap, aws, azure, s3, blob, google cloud, storagegrid, back up volumes, cloud backup, restore volumes, cost, on-premises ontap, onprem, applications, virtual machines, backup and recovery
summary: Clone Microsoft SQL Server applications data for development, testing, or protection purposes. You can create clones from instant snapshots or existing snapshots of your Microsoft SQL Server workloads.
---

= Clone Microsoft SQL Server workloads 
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
Clone Microsoft SQL Server applications data to the same or different VM for development, testing, or protection purposes. You can create clones from instant snapshots or existing snapshots of your Microsoft SQL Server workloads.

Choose between the following types of clones:

* *Instant snapshot and clone*: You can create a clone of your Microsoft SQL Server workloads from an instant snapshot. An instant snapshot is a point-in-time copy of the source data that is created from a backup. The clone is stored in an object store in your public or private cloud account. You can use the clone to restore your workloads in case of data loss or corruption.
* *Clone from an existing snapshot*: You can choose an existing snapshot from a list of snapshots that are available for the workload. This option is useful if you want to create a clone from a specific point in time. Clone to either primary or secondary storage.


You can accomplish the following protection goals:

* Create a clone
* Refresh a clone
* Split a clone 
* Delete a clone

== Create a clone

You can create a clone of your Microsoft SQL Server workloads. A clone is a copy of the source data that is created from a backup. The clone is stored in an object store in your public or private cloud account.
You can use the clone to restore your workloads in case of data loss or corruption.

.Steps
. From the BlueXP backup and recovery menu, select *Inventory*.
+
image:screen-br-inventory.png[Inventory screenshot for BlueXP backup and recovery]
. Select a workload to view the protection details.
. Select the Actions icon image:../media/icon-action.png[Actions option] > *Create clone*.

. Select the backup from which you want to create the clone.
. Select the clone type:

    * *Full clone* - A full clone is a complete copy of the source data. It is stored in the object store and can be used to restore the workloads.
    * *Snapshot clone* - A snapshot clone is a copy of the source data that is created from a snapshot. It is stored in the object store and can be used to restore the workloads.

. Select the database target for the clone. The database target is the location where the clone will be created. You can select a specific database or all databases in the workload.
+
Enter a database name or suffix (_suffix) to append to the cloned database name. If you do not specify a suffix, the cloned database name will be the same as the source database name.

. Choose the type of clone: 
** *Thick clone (Long-term clone)*: A complete copy of the source data. It is stored in the object store and can be used to restore the workloads.
** *Thin clone (Short-term clone)*: A copy of the source data that is created from a snapshot. It is stored in the object store and can be used to restore the workloads.

. Select the quality of service (QoS) policy for the clone. The QoS policy defines the performance characteristics of the clone, such as the maximum throughput and IOPS.
** Extreme
** Performance
** Value

. Select the igroup for the clone. The igroup is a logical grouping of initiators that are used to access the clone. You can select an existing igroup or create a new one. Select the igroup from the primary or secondary ONTAP storage system. 

. Select the storage class for the clone.
. Select the cloud account where you want to create the clone.
. Select the region where you want to create the clone.
. Select the VPC where you want to create the clone.
. Select the subnet where you want to create the clone.
. Select the security group where you want to create the clone.
. Select the IAM role that you want to use for the clone.
. Review the clone details and select *Create clone*.
. Review the clone creation status on the *Activity* page.
. In the Advanced settings section, do the following: 

** *Clone schedule*: Choose a start date when the clone should be created. 
** *Expiration date*: Enter a date when the clone should expire.
** *Delete clone if schedule expires*: Select this option to delete the clone if the schedule expires.
** *Refresh clone*: Select this option and specify how often the clone should be refreshed. You can choose to refresh the clone daily, weekly, or monthly.

** *Notifications*: Optionally, specify email addresses to receive notifications about the clone creation status along with the Job report. You can also specify a webhook URL to receive notifications about the clone creation status.

** *Pre- and post-clone scripts*: Optionally, you can specify pre- and post-clone scripts to run before and after the clone is created. These scripts can be used to perform additional tasks, such as configuring the clone or sending notifications.


+
image:screen-br-activity-clone.png[Activity page screenshot for BlueXP backup and recovery]

. When the clone is created, you can view it in the *Inventory* page.
image:screen-br-inventory-clone.png[Inventory page screenshot for BlueXP backup and recovery]

== Refresh a clone
You can refresh a clone of your Microsoft SQL Server workloads. Refreshing a clone updates the clone with the latest data from the source workload. This is useful if you want to keep the clone up to date with the source workload.

You have the option to change the database name, use the latest instant snapshot, or refresh from an existing production snapshot. 

.Steps
. From the BlueXP backup and recovery menu, select *Inventory*. 

+
image:screen-br-inventory.png[Inventory screenshot for BlueXP backup and recovery]
. Select a workload to view the protection details.
. Select the Actions icon image:../media/icon-action.png[Actions option] > *Refresh clone*.
. Select the clone that you want to refresh.
. Select the database target for the clone. The database target is the location where the clone will be refreshed. You can select a specific database or all databases in the workload.
. Enter a database name or suffix (_suffix) to append to the refreshed database name. If you do not specify a suffix, the refreshed database name will be the same as the source database name.
. Choose the type of clone:
** *Thick clone (Long-term clone)*: A complete copy of the source data. It is stored in the object store and can be used to restore the workloads.
** *Thin clone (Short-term clone)*: A copy of the source data that is created from a snapshot. It is stored in the object store and can be used to restore the workloads.
. Select the quality of service (QoS) policy for the clone. The QoS policy defines the performance characteristics of the clone, such as the maximum throughput and IOPS.
. Select the igroup for the clone. The igroup is a logical grouping of initiators that are used to access the clone. You can select an existing igroup or create a new one. Select the igroup from the primary or secondary ONTAP storage system.
. Select the storage class for the clone.


== Split a clone
You can split a clone of your Microsoft SQL Server workloads. Splitting a clone creates a new backup from the clone. The new backup can be used to restore the workloads.

You can choose to split a clone as independent or long-term clones. A wizard shows the list of aggregates that are part of the SVM, their sizes, and where the cloned volume resides. BlueXP backup and recovery also indicates whether there is enough space to split the clone. After the clone is split, the clone becomes an independent database for protection. 

The clone job will not be removed and it can be reused again for other clones

.Steps
. From the BlueXP backup and recovery menu, select *Inventory*.
+
image:screen-br-inventory.png[Inventory screenshot for BlueXP backup and recovery]
. Select a workload to view the protection details.
. Select the Actions icon image:../media/icon-action.png[Actions option] > *Split clone*.
. Select the clone that you want to split.
. Select the storage class for the new
backup.
. Select the cloud account where you want to create the new backup.
. Select the region where you want to create the new backup.
. Select the VPC where you want to create the new backup.
. Select the subnet where you want to create the new backup.
. Select the security group where you want to create the new backup.
. Select the IAM role that you want to use for the new backup.
. Review the split clone details and select *Split clone*.
. Review the split clone status on the *Activity* page.
image:screen-br-activity-split-clone.png[Activity page screenshot for BlueXP backup and recovery]
. When the split clone is created, you can view it in the *Inventory* page.
image:screen-br-inventory-split-clone.png[Inventory page screenshot for BlueXP backup and recovery]


== Delete a clone
You can delete a clone of your Microsoft SQL Server workloads. Deleting a clone removes the clone from the object store and frees up storage space.

.Steps

. From the BlueXP backup and recovery menu, select *Inventory*.
+
image:screen-br-inventory.png[Inventory screenshot for BlueXP backup and recovery]
. Select a workload to view the protection details.
. Select the Actions icon image:../media/icon-action.png[Actions option] > *Delete clone*.
. Select the clone that you want to delete.
. Review the clone details and select *Delete clone*.
. Review the clone deletion status on the *Activity* page.
image:screen-br-activity-delete-clone.png[Activity page screenshot for BlueXP backup and recovery]
. When the clone is deleted, it is removed from the *Inventory* page.
image:screen-br-inventory-delete-clone.png[Inventory page screenshot for BlueXP backup and recovery]


== Additional information
For more information about cloning Microsoft SQL Server workloads, see the following resources:
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql.html[Clone Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-activity.html[Monitor clone activity] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-inventory.html[View cloned Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore.html[Restore cloned Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-delete.html[Delete cloned Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-activity.html[Monitor restore activity] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-inventory.html[View restored Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-delete.html[Delete restored Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-activity.html[Monitor restore activity] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-inventory.html[View restored Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-delete.html[Delete restored Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-activity.html[Monitor restore activity] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-inventory.html[View restored Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-delete.html[Delete restored Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-activity.html[Monitor restore activity] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-inventory.html[View restored Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-delete.html[Delete restored Microsoft SQL Server workloads] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-activity.html[Monitor restore activity] in the BlueXP documentation.
* link:https://docs.netapp.com/us-en/bluexp/concepts/clone-mssql-restore-inventory.html[View restored Microsoft SQL Server workloads] in the BlueXP documentation.


